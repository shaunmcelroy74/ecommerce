<!DOCTYPE html>
<html>
  <head>
    <title><%= content_for(:title) || "Ecommerce" %></title>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="mobile-web-app-capable" content="yes" />
    <%= csrf_meta_tags %>
    <%= csp_meta_tag %>

    <%= yield :head %>
    <%# Enable PWA manifest if you have one %>
    <%#= tag.link rel: "manifest", href: pwa_manifest_path(format: :json) %>

    <link rel="icon" href="/icon.png" type="image/png" />
    <link rel="icon" href="/icon.svg" type="image/svg+xml" />
    <link rel="apple-touch-icon" href="/icon.png" />

    <%# Your Tailwind/App CSS %>
    <%= stylesheet_link_tag :app, "data-turbo-track": "reload" %>
    <%= javascript_importmap_tags %>
  </head>

  <body class="flex min-h-screen bg-gray-900 text-white">
    <!-- SIDEBAR -->
    <aside class="w-64 bg-gray-800 p-6 sticky top-0 h-screen">
      <div class="flex items-center mb-8">
        <%= image_tag 'logo.png', class: 'h-12 w-12' %>
        <span class="ml-3 text-xl font-bold">Ecommerce Admin</span>
      </div>
      <nav>
        <ul class="space-y-2">
          <li>
            <%= link_to "Dashboard", admin_path,
                  class: "block px-4 py-2 rounded hover:bg-gray-700 text-gray-200" %>
          </li>
          <li>
            <%= link_to "Products", admin_products_path,
                  class: "block px-4 py-2 rounded hover:bg-gray-700 text-gray-200" %>
          </li>
          <li>
            <%= link_to "Categories", admin_categories_path,
                  class: "block px-4 py-2 rounded hover:bg-gray-700 text-gray-200" %>
          </li>
          <li>
            <%= link_to "Orders", admin_orders_path,
                  class: "block px-4 py-2 rounded hover:bg-gray-700 text-gray-200" %>
          </li>
          <li class="mt-6">
  <%= link_to "Sign out",
        destroy_admin_session_path,
        data: {
          "turbo-method":  :delete,             # ← tell Turbo to use DELETE
          "turbo-confirm": "Are you sure?"       # ← optional confirmation
        },
        class: "block px-4 py-2 rounded hover:bg-gray-700 text-gray-200" %>
</li>
        </ul>
      </nav>
    </aside>

    <!-- MAIN CONTENT -->
    <main class="flex-1 overflow-auto">
      <div class="px-4 py-8">
        <%= yield %>
      </div>
    </main>
  </body>
</html>
